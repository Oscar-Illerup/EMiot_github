<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"></head><body class="c23 doc-content"><h1 class="c28" id="h.jbi4ru8lstnz"><span class="c29">Dokumentation OsCall</span></h1><p class="c1"><span class="c8">OsCall er en Lorawan knap, lavet til at kunne have behageligt p&aring; h&aring;ndleddet. Trykket har en indbygget ble scanner som hvad v&aelig;rre tryk p&aring; knappen rapporterer t&aelig;t v&aelig;rende ble&rsquo;ers mac adresser og rssi over Lorawan. </span></p><h3 class="c25" id="h.gnkst81vyskx"><span class="c13">Decoded Payload</span></h3><p class="c1"><span class="c8">Oscall leverer data over fport 1 og 2. </span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c8">Data leveret over fport 1 er heartbeats. </span></p><p class="c1"><span>Et heartbeat har to datatyper &ldquo;</span><span class="c11">reason</span><span>&rdquo; og &ldquo;</span><span class="c11">voltage</span><span>&rdquo;. &nbsp;&ldquo;</span><span class="c11">reason</span><span>&rdquo; refererer til hvorfor trykket sender og vil altid v&aelig;re &nbsp;&ldquo;</span><span class="c11">reason = 0</span><span class="c8">&rdquo; hvis der er tale om et heartbeat. </span></p><p class="c1"><span>&ldquo;</span><span class="c11">Voltage</span><span class="c8">&rdquo; er en m&aring;ling af str&oslash;m niveauet p&aring; trykkets batteri i volt. </span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c12">Eksempel p&aring; fport 1 payload: </span></p><a id="t.a9c2c6b8bae6aac66959579e666f15e2e5542823"></a><a id="t.0"></a><table class="c3"><tr class="c18"><td class="c22" colspan="1" rowspan="1"><p class="c19"><span class="c0">&nbsp; &nbsp;</span><span class="c5">&quot;uplink_message&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;session_key_id&quot;</span><span class="c0">: </span><span class="c5">&quot;AYsQ4d1KVXOoFH3E4cA3Xg==&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_port&quot;</span><span class="c0">: </span><span class="c14">1</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_cnt&quot;</span><span class="c0">: </span><span class="c14">1</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;frm_payload&quot;</span><span class="c0">: </span><span class="c5">&quot;AB0=&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;decoded_payload&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;reason&quot;</span><span class="c0">: </span><span class="c14">0</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;voltage&quot;</span><span class="c0">: </span><span class="c14">2.9</span><span class="c0"><br> &nbsp; &nbsp; &nbsp;},</span></p></td></tr></table><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span>Data leveret over fport 2 er et tryk p&aring; knappen. Et tryk p&aring; knappen sender 3 variabler med, &quot;</span><span class="c11">reason</span><span>&quot;, &quot;</span><span class="c11">mac</span><span>&quot; og &ldquo;</span><span class="c11">rssi</span><span>&rdquo;. &quot;</span><span class="c11">Reason</span><span>&quot; er lige med &ldquo;1&rdquo; i forbindelse med et tryk p&aring; knappen. &ldquo;</span><span class="c11">mac</span><span>&rdquo; og &ldquo;</span><span class="c11">rssi</span><span>&rdquo; er et resultat af trykkets ble scan. De to variabler er h&aelig;nger sammen p&aring; den m&aring;de at det f&oslash;rste index i &ldquo;</span><span class="c11">mac</span><span>&rdquo; har rssi v&aelig;rdien der er opgivet i f&oslash;rste index i &ldquo;</span><span class="c11">rssi</span><span>&rdquo; og anden index i &ldquo;</span><span class="c11">mac</span><span>&rdquo; har rssi v&aelig;rdien der er angivet i det andet index i &ldquo;</span><span class="c11">rssi</span><span class="c8">&rdquo; osv. </span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c26">Eksempel p&aring; fport 2 payload:</span><span class="c8">&nbsp;</span></p><a id="t.edc79d9d538b213cee7b0735fa78b6f9aaae52ac"></a><a id="t.1"></a><table class="c3"><tr class="c18"><td class="c22" colspan="1" rowspan="1"><p class="c19"><span class="c0">&nbsp; &nbsp; </span><span class="c5">&quot;uplink_message&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;session_key_id&quot;</span><span class="c0">: </span><span class="c5">&quot;AYsQ4d1KVXOoFH3E4cA3Xg==&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_port&quot;</span><span class="c0">: </span><span class="c14">2</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_cnt&quot;</span><span class="c0">: </span><span class="c14">2</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;frm_payload&quot;</span><span class="c0">: </span><span class="c5">&quot;Af8AAWcAN2E4MzBlZmViMGVhfC01MnxhYzIzM2ZmNmNkOGR8LTc3fDU3NjJlYmRhOGY2YXwtODR8ODQyYWZkZTdhNDExfC02NnxhYzIzM2ZmYWRjMjZ8LTY3fGFjMjMzZmZhZGMyN3wtNzB8pQ==&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;decoded_payload&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;mac&quot;</span><span class="c0">: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;7a830efeb0ea&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;ac233ff6cd8d&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;5762ebda8f6a&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;842afde7a411&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;ac233ffadc26&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;ac233ffadc27&quot;</span><span class="c0"><br> &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;reason&quot;</span><span class="c0">: </span><span class="c14">1</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;rssi&quot;</span><span class="c0">: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c14">-52</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c14">-77</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c14">-84</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c14">-66</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c14">-67</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c14">-70</span><span class="c0"><br> &nbsp; &nbsp; &nbsp; &nbsp;]<br> &nbsp; &nbsp; &nbsp;}</span></p></td></tr></table><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c12">OTA konfiguration </span></p><p class="c1"><span class="c8">Der er mulighed for at konfigurere n&oslash;dtrykket: </span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span>Instilling af </span><span class="c24">&nbsp;</span><span class="c21">heart beats rate: </span></p><p class="c2"><span class="c6"></span></p><a id="t.723fa7cdca52e62aa93d140a2c2c9469606d638b"></a><a id="t.2"></a><table class="c3"><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c20">fport</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c20">Heartbeat interval (min)</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c20">Sent byte</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">30</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">00 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">60</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">01 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">120</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">02 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">240</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">03 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">360</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">04 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">480</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">05 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">600</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">06 xx</span></p></td></tr><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">720</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">07 xx</span></p></td></tr></table><p class="c2"><span class="c6"></span></p><p class="c1"><span class="c17">Instilling af confirmed Hard beat</span></p><p class="c2"><span class="c6"></span></p><a id="t.430f00792323fbe42589bdd11dda0ce7ca5b4c72"></a><a id="t.3"></a><table class="c3"><tr class="c18"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c20">fport</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c1"><span class="c21">Confirmed Hard beat</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c20">Sent byte</span></p></td></tr><tr class="c27"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">True</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">xx 00</span></p></td></tr><tr class="c16"><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">10</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">False</span></p></td><td class="c9" colspan="1" rowspan="1"><p class="c15"><span class="c7">xx 01</span></p></td></tr></table><p class="c2"><span class="c17"></span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c8">Dekoder:</span></p><p class="c1"><span>I mappen &ldquo;</span><span class="c11">De/encodere&rdquo;</span><span class="c8">&nbsp;kan dekoderen findes. Det er en javascript dekodere som kan lave den r&aring; byte string om til det format som er beskrevet ovenfor. </span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c8">Reset OsCall</span></p><p class="c1"><span>Oscall kan resettes ved at </span><span class="c26">holde knappen ned i 25 sek.</span><span class="c8">&nbsp;Herefter vil OsCall re-join netv&aelig;rket. Brug denne funktion hvis man &oslash;nsker at skifte netv&aelig;rk / joine en anden Lorawan server. </span></p><p class="c1 c4"><span class="c8"></span></p><p class="c1"><span class="c8">Batteri skift: </span></p><p class="c1"><span class="c8">Knap kassen er forseglet og vandt&aelig;t IP65 og der kan derfor ikke skiftes batteri uden specialv&aelig;rkt&oslash;j. Derfor kommer OsCall med en refurbished aftale. </span></p></body></html>
