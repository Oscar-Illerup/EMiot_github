<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"></head><body class="c15 doc-content"><h1 class="c34" id="h.jbi4ru8lstnz"><span class="c28 c31">Dokumentation OsCall</span></h1><p class="c7"><span class="c6">OsCall er en Lorawan knap, lavet til at kunne have behageligt p&aring; h&aring;ndleddet. Trykket har en indbygget ble scanner som hvad v&aelig;rre tryk p&aring; knappen rapporterer t&aelig;t v&aelig;rende ble&rsquo;ers mac adresser og rssi over Lorawan. </span></p><h3 class="c11" id="h.gnkst81vyskx"><span class="c20">Decoded Payload</span></h3><p class="c7"><span class="c6">Oscall leverer data over fport 1 og 2. </span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">Data leveret over fport 1 er heartbeats. </span></p><p class="c7"><span>Et heartbeat har to datatyper &ldquo;</span><span class="c16">reason</span><span>&rdquo; og &ldquo;</span><span class="c16">voltage</span><span>&rdquo;. &nbsp;&ldquo;</span><span class="c16">reason</span><span>&rdquo; refererer til hvorfor trykket sender og vil altid v&aelig;re &nbsp;&ldquo;</span><span class="c16">reason = 0</span><span class="c6">&rdquo; hvis der er tale om et heartbeat. </span></p><p class="c7"><span>&ldquo;</span><span class="c16">Voltage</span><span class="c6">&rdquo; er en m&aring;ling af str&oslash;m niveauet p&aring; trykkets batteri i volt. </span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c19 c29 c33">Eksempel p&aring; fport 1 payload: </span></p><a id="t.a9c2c6b8bae6aac66959579e666f15e2e5542823"></a><a id="t.0"></a><table class="c3"><tr class="c0"><td class="c12" colspan="1" rowspan="1"><p class="c13"><span class="c8">&nbsp; &nbsp;</span><span class="c5">&quot;uplink_message&quot;</span><span class="c8">: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;session_key_id&quot;</span><span class="c8">: </span><span class="c5">&quot;AYsQ4d1KVXOoFH3E4cA3Xg==&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_port&quot;</span><span class="c8">: </span><span class="c4">1</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_cnt&quot;</span><span class="c8">: </span><span class="c4">1</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;frm_payload&quot;</span><span class="c8">: </span><span class="c5">&quot;AB0=&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;decoded_payload&quot;</span><span class="c8">: {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;reason&quot;</span><span class="c8">: </span><span class="c4">0</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;voltage&quot;</span><span class="c8">: </span><span class="c4">2.9</span><span class="c8"><br> &nbsp; &nbsp; &nbsp;},</span></p></td></tr></table><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span>Data leveret over fport 2 er et tryk p&aring; knappen. Et tryk p&aring; knappen sender 3 variabler med, &quot;</span><span class="c16">reason</span><span>&quot;, &quot;</span><span class="c16">mac</span><span>&quot; og &ldquo;</span><span class="c16">rssi</span><span>&rdquo;. &quot;</span><span class="c16">Reason</span><span>&quot; er lige med &ldquo;1&rdquo; i forbindelse med et tryk p&aring; knappen. &ldquo;</span><span class="c16">mac</span><span>&rdquo; og &ldquo;</span><span class="c16">rssi</span><span>&rdquo; er et resultat af trykkets ble scan. De to variabler h&aelig;nger sammen p&aring; den m&aring;de at det f&oslash;rste index i &ldquo;</span><span class="c16">mac</span><span>&rdquo; har rssi v&aelig;rdien der er opgivet i f&oslash;rste index i &ldquo;</span><span class="c16">rssi</span><span>&rdquo; og anden index i &ldquo;</span><span class="c16">mac</span><span>&rdquo; har rssi v&aelig;rdien der er angivet i det andet index i &ldquo;</span><span class="c16">rssi</span><span class="c6">&rdquo; osv. </span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c29">Eksempel p&aring; fport 2 payload:</span><span class="c6">&nbsp;</span></p><a id="t.edc79d9d538b213cee7b0735fa78b6f9aaae52ac"></a><a id="t.1"></a><table class="c3"><tr class="c0"><td class="c12" colspan="1" rowspan="1"><p class="c13"><span class="c8">&nbsp; &nbsp; </span><span class="c5">&quot;uplink_message&quot;</span><span class="c8">: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;session_key_id&quot;</span><span class="c8">: </span><span class="c5">&quot;AYsQ4d1KVXOoFH3E4cA3Xg==&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_port&quot;</span><span class="c8">: </span><span class="c4">2</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;f_cnt&quot;</span><span class="c8">: </span><span class="c4">2</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;frm_payload&quot;</span><span class="c8">: </span><span class="c5">&quot;Af8AAWcAN2E4MzBlZmViMGVhfC01MnxhYzIzM2ZmNmNkOGR8LTc3fDU3NjJlYmRhOGY2YXwtODR8ODQyYWZkZTdhNDExfC02NnxhYzIzM2ZmYWRjMjZ8LTY3fGFjMjMzZmZhZGMyN3wtNzB8pQ==&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;decoded_payload&quot;</span><span class="c8">: {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;mac&quot;</span><span class="c8">: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;7a830efeb0ea&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;ac233ff6cd8d&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;5762ebda8f6a&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;842afde7a411&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;ac233ffadc26&quot;</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;ac233ffadc27&quot;</span><span class="c8"><br> &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;reason&quot;</span><span class="c8">: </span><span class="c4">1</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">&quot;rssi&quot;</span><span class="c8">: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">-52</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">-77</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">-84</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">-66</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">-67</span><span class="c8">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c4">-70</span><span class="c8"><br> &nbsp; &nbsp; &nbsp; &nbsp;]<br> &nbsp; &nbsp; &nbsp;}</span></p></td></tr></table><h2 class="c35" id="h.hjwi03wlwepo"><span class="c28 c30">Informationer til at lave en decoder</span></h2><h3 class="c11" id="h.q0ya9y9gf6qp"><span class="c20">Fport 1:</span></h3><p class="c7"><span class="c6">For heatbeats sendes (som altid sendes med fport 1) der kun en byte. Byten er batteriniveauet ganget med 10. S&aring; for at f&aring; det i volt, skal man dividere tallet med 10. Dvs for &ldquo;1b&rdquo; som er 29 er batteriet p&aring; 2.9 volt.</span></p><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.n8iajvfer043"><span class="c20">Fport 2:</span></h3><p class="c7"><span class="c6">For et kanp tryk (som altid sendes med fport 2) sendes der en lang byte string. Den f&oslash;rste byte er batteriniveauet ganget med 10. S&aring; for at f&aring; det i volt, skal man dividere tallet med 10. Dvs for &ldquo;1b&rdquo; som er 29 er batteriet p&aring; 2.9 volt.</span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">Resten er en lang byte string som skal decodes samlet. Et eksempel er:</span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">&ldquo;6163323333666661646332367C2D36337C3834326166646537613431317C2D37357C6163323333666661646332377C2D36387C6163323333666636636438647C2D35377C&rdquo;</span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">Som decoded er:</span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">&ldquo;ac233ffadc26|-63|842afde7a411|-75|ac233ffadc27|-68|ac233ff6cd8d|-57|&rdquo;</span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">Her er mac adresserne og rssi v&aelig;rdierne adskilt med et &ldquo;|&rdquo; og den f&oslash;rste mac adresse og den f&oslash;rste rssi v&aelig;rdi h&aelig;nger sammen osv. </span></p><p class="c7 c9"><span class="c6"></span></p><h2 class="c35" id="h.gt36ankma1mc"><span class="c28 c30">Downlink ota konfiguration med encoder</span></h2><p class="c7"><span class="c6">Vis den medf&oslash;lgende encoder til OsCall bliver brugt, er det muligt at konfigurere OsCall med en json fil. Det g&oslash;res med f&oslash;lgende variabler:</span></p><p class="c7 c9"><span class="c6"></span></p><a id="t.5da13c032a91eb9ca4ed69bb7150e118c2759ee4"></a><a id="t.2"></a><table class="c3"><tr class="c0"><td class="c12" colspan="1" rowspan="1"><p class="c13"><span class="c8">heatbeat_interval = [</span><span class="c4">30</span><span class="c8">,</span><span class="c4">60</span><span class="c8">,</span><span class="c4">120</span><span class="c8">,</span><span class="c4">240</span><span class="c8">,</span><span class="c4">360</span><span class="c8">,</span><span class="c4">480</span><span class="c8">,</span><span class="c4">600</span><span class="c8">,</span><span class="c4">720</span><span class="c8">]; // Is in minutes<br>confirmed_heatbeat = [</span><span class="c17">true</span><span class="c8">, </span><span class="c17">false</span><span class="c8">]; //sets confirmed heartbeat<br>ble_scanner = [</span><span class="c5">&quot;on&quot;</span><span class="c8">, </span><span class="c5">&quot;off&quot;</span><span class="c8">]; //turns on or off the ble scan on button push<br>ble_prefix_1 = [</span><span class="c5">&quot;ac233f&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0001&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0002&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0003&quot;</span><span class="c8">]; //Sets if only specific ble vendor shut be reported by the ble scanner<br>ble_prefix_2 = [</span><span class="c5">&quot;ac233f&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0001&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0002&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0003&quot;</span><span class="c8">]; //Sets if only specific ble vendor shut be reported by the ble scanner<br>ble_prefix_3 = [</span><span class="c5">&quot;ac233f&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0001&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0002&quot;</span><span class="c8">,</span><span class="c5">&quot;oc0003&quot;</span><span class="c8">]; //Sets if only specific ble vendor shut be reported by the ble scanner</span></p></td></tr></table><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">Et eksempel p&aring; en json konfiguration kunne v&aelig;re:</span></p><p class="c7 c9"><span class="c6"></span></p><a id="t.724332ea6ddc3f4f4953ce89ee61227fc7146557"></a><a id="t.3"></a><table class="c3"><tr class="c0"><td class="c12" colspan="1" rowspan="1"><p class="c13"><span class="c8">{<br> &nbsp;&quot;heatbeat_interval&quot;: </span><span class="c4">240</span><span class="c8">,<br> &nbsp;&quot;confirmed_heatbeat&quot;: </span><span class="c17">true</span><span class="c8">,<br> &nbsp;&quot;ble_scanner&quot;: </span><span class="c5">&quot;on&quot;</span><span class="c8">,<br> &nbsp;&quot;ble_prefix_1&quot;: </span><span class="c5">&quot;&quot;</span><span class="c8">,<br> &nbsp;&quot;ble_prefix_2&quot;: </span><span class="c5">&quot;&quot;</span><span class="c8">,<br> &nbsp;&quot;ble_prefix_3&quot;: </span><span class="c5">&quot;&quot;</span><span class="c8"><br>}</span></p></td></tr></table><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span class="c6">Her s&aelig;ttes heartbeat intervallet til 240 minutter, at Oscall skal sende confirmed heartbeats, ble scanneren er t&aelig;ndt under knap tryk og der er ikke sat nogle ble prefixes s&aring; alle enheder bliver sendt med efter et tryk.</span></p><p class="c7 c9"><span class="c6"></span></p><h2 class="c35" id="h.t6rtdpiuozt6"><span class="c28 c30">Manuelt kreation af byte string til downlink ota konfiguration</span></h2><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.oupm2eg11w6b"><span class="c20">Indstilling af &nbsp;heart beats rate: </span></h3><p class="c13 c9"><span class="c4 c19"></span></p><a id="t.a39fcfa485903f054d0df4f212f974406fe1d9f1"></a><a id="t.4"></a><table class="c3"><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">fport</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Heartbeat interval (min)</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Sent byte</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">30</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">00 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">60</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">01 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">120</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">02 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">240</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">03 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">360</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">04 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">480</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">05 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">600</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">06 ff ff ff ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">720</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">07 ff ff ff ff ff</span></p></td></tr></table><p class="c13 c9"><span class="c4 c19"></span></p><h3 class="c11" id="h.pxpl392ewe7p"><span class="c20">Indstilling af confirmed Hard beat:</span></h3><p class="c13 c9"><span class="c4 c19"></span></p><a id="t.3605462e27b7ea6453a3b74d82fb94c5e9638c02"></a><a id="t.5"></a><table class="c3"><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">fport</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c7"><span class="c26 c29">Confirmed Hard beat</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Sent byte</span></p></td></tr><tr class="c14"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">True</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff 00 ff ff ff ff</span></p></td></tr><tr class="c23"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">False</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff 01 ff ff ff ff</span></p></td></tr></table><p class="c13 c9"><span class="c18"></span></p><h3 class="c11" id="h.ia6zx3d0akbt"><span class="c20">Indstilling af ble scanneren:</span></h3><p class="c9 c13"><span class="c4 c19"></span></p><a id="t.78098e972e325d4d82d92880ba04ce59fb33b336"></a><a id="t.6"></a><table class="c3"><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">fport</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c7"><span class="c26 c29">ble scanneren</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Sent byte</span></p></td></tr><tr class="c14"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">on</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff 00 ff ff ff ff</span></p></td></tr><tr class="c23"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">off</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff 01 ff ff ff ff</span></p></td></tr></table><p class="c7 c9"><span class="c18"></span></p><p class="c7 c9"><span class="c18"></span></p><h3 class="c11" id="h.ed515gcwssv4"><span class="c20">Indstilling af &nbsp;ble prefix 1: </span></h3><p class="c7"><span class="c28 c26">For at indstille ble prefix 1 skal der i 4&rsquo;er byte sendes indexet af den &oslash;nskede ble producenters mac adresse. S&aring; for for &ldquo;Minew&rdquo; ble beacons skal der sendes 00 i 4 byte.</span></p><p class="c7 c9"><span class="c28 c26"></span></p><p class="c7"><span class="c26">Liste over godkendte ble producenters mac adresse: </span><span class="c18">[&quot;ac233f&quot;,&quot;oc0001&quot;,&quot;oc0002&quot;,&quot;oc0003&quot;]</span></p><p class="c13 c9"><span class="c4 c19"></span></p><a id="t.8766bc0b7412e3e5308cb6546d32b71bca344310"></a><a id="t.7"></a><table class="c3"><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">fport</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">ble prefix 1</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Sent byte</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;ac233f&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff 00 ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;oc0001&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff 01 ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;oc0002&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff 02 ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">...</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff xx ff ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c24">ble prefix 1 off</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff ff</span></p></td></tr></table><p class="c13 c9"><span class="c18"></span></p><h3 class="c11" id="h.kzvos69jllmu"><span class="c20">Indstilling af &nbsp;ble prefix 2: </span></h3><p class="c7"><span class="c28 c26">For at indstille ble prefix 2 skal der i 5&rsquo;er byte sendes indexet af den &oslash;nskede ble producenters mac adresse. Index starter i 0. S&aring; for for &ldquo;Minew&rdquo; ble beacons skal der sendes 00 i 5 byte.</span></p><p class="c7 c9"><span class="c26 c28"></span></p><p class="c7"><span class="c26">Liste over godkendte ble producenters mac adresse: </span><span class="c18">[&quot;ac233f&quot;,&quot;oc0001&quot;,&quot;oc0002&quot;,&quot;oc0003&quot;]</span></p><p class="c7"><span class="c26 c29">&nbsp;</span></p><a id="t.c8d7ba38f63ffd5dc790deba97d732cbdb2dd8f6"></a><a id="t.8"></a><table class="c3"><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">fport</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">ble prefix 2</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Sent byte</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;ac233f&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff 00 ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;oc0001&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff 01 ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;oc0002&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff 02 ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">...</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff xx ff</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c24">ble prefix 1 off</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff ff</span></p></td></tr></table><p class="c13 c9"><span class="c18"></span></p><h3 class="c11" id="h.wdk2tha2ujj5"><span class="c20">Indstilling af &nbsp;ble prefix 3: </span></h3><p class="c7"><span class="c28 c26">For at indstille ble prefix 3 skal der i 6&rsquo;er byte sendes indexet af den &oslash;nskede ble producenters mac adresse. Index starter i 0. S&aring; for for &ldquo;Minew&rdquo; ble beacons skal der sendes 00 i 6 byte.</span></p><p class="c7 c9"><span class="c28 c26"></span></p><p class="c7"><span class="c26">Liste over godkendte ble producenters mac adresse: </span><span class="c18">[&quot;ac233f&quot;,&quot;oc0001&quot;,&quot;oc0002&quot;,&quot;oc0003&quot;]</span></p><p class="c7 c9"><span class="c18"></span></p><a id="t.48182d0a186fba50852872d4c60e239b37511d1d"></a><a id="t.9"></a><table class="c3"><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">fport</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">ble prefix 3</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c19 c21">Sent byte</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;ac233f&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff 00</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;oc0001&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff 01</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">&quot;oc0002&quot;</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff 02</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">...</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff xx</span></p></td></tr><tr class="c0"><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">10</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c24">ble prefix 1 off</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c1"><span class="c2">ff ff ff ff ff ff</span></p></td></tr></table><p class="c13 c9"><span class="c18"></span></p><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.373snd7nhlpr"><span class="c20">Dekoder/encoder:</span></h3><p class="c7"><span>I mappen &ldquo;</span><span class="c16">De/encodere&rdquo;</span><span class="c6">&nbsp;kan dekoderen findes til forskellige netv&aelig;rk som TTN (The Things Network). Det er en javascript dekodere som kan lave den r&aring; byte string om til det format som er beskrevet ovenfor. </span></p><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.e5clyyi39vfl"><span class="c20">Reset OsCall</span></h3><p class="c7"><span>Oscall kan resettes ved at </span><span class="c29">holde knappen ned i 25 sek </span><span>og 4 blink skulle kunne ses</span><span class="c29">.</span><span class="c6">&nbsp;Herefter vil OsCall re-join netv&aelig;rket. Brug denne funktion hvis man &oslash;nsker at skifte netv&aelig;rk / joine en anden Lorawan server, eller vil resette konfigurationen p&aring; &nbsp;trykket.</span></p><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.bn7e8bh13ea4"><span class="c20">Batteri skift: </span></h3><p class="c7"><span class="c6">Knap kassen er forseglet og vandt&aelig;t IP65 og der kan derfor ikke skiftes batteri uden specialv&aelig;rkt&oslash;j. Derfor kommer OsCall med en refurbished aftale. </span></p><p class="c7 c9"><span class="c6"></span></p><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.r1rxoltbdglw"><span class="c20">Debugging</span></h3><p class="c7 c9"><span class="c6"></span></p><a id="t.7160bc08b3bdab7f2bbd9bc7e182d0c8f0e9de9f"></a><a id="t.10"></a><table class="c3"><tr class="c0"><td class="c32" colspan="1" rowspan="1"><p class="c1"><span class="c6">Blink type</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c1"><span class="c6">Betydning</span></p></td></tr><tr class="c0"><td class="c32" colspan="1" rowspan="1"><p class="c1"><span class="c6">Langt blink</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c1"><span class="c6">Normalt tryk p&aring; knappen n&aring;r Oscall er p&aring; et lorawan netv&aelig;rk.</span></p></td></tr><tr class="c0"><td class="c32" colspan="1" rowspan="1"><p class="c1"><span class="c6">2 Blink</span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c1"><span class="c6">OsCallet er ikke joinet et netv&aelig;rk og pr&oslash;ver hver 12 time eller efter en genstart. </span></p></td></tr><tr class="c0"><td class="c32" colspan="1" rowspan="1"><p class="c1"><span class="c6">4 blink </span></p></td><td class="c22" colspan="1" rowspan="1"><p class="c1"><span class="c6">Oscallet genstarter</span></p></td></tr></table><p class="c7 c9"><span class="c6"></span></p><p class="c7 c9"><span class="c6"></span></p><h3 class="c11" id="h.qyvml0tknxbn"><span class="c20">Kontakt</span></h3><p class="c7 c9"><span class="c6"></span></p><p class="c7"><span>For yderligere sp&oslash;rgsm&aring;l kan man kontakte </span><span class="c27"><a class="c36" href="mailto:oi@emiot.dk">oi@emiot.dk</a></span><span>&nbsp;eller ringe +45 25798300</span></p></body></html>
