<head><meta content="text/html; charset=UTF-8" http-equiv="content-type"></head><body class="c27 doc-content"><h1 class="c24" id="h.jbi4ru8lstnz"><span class="c22 c39">Dokumentation OsCall</span></h1><p class="c3"><span class="c5">OsCall er en Lorawan knap, lavet til at kunne have behageligt p&aring; h&aring;ndleddet. Trykket har en indbygget ble scanner som rapporterer omkringliggende bleers mac adresser og rssi over Lorawan ved et tryk p&aring; knappen. </span></p><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.tgndr9xniq0v"><span class="c12">Standardindstillinger</span></h3><p class="c3"><span class="c5">OScall kommer med f&oslash;lgende standardindstillinger:</span></p><p class="c3 c8"><span class="c5"></span></p><a id="t.c35751fa09dbc2ee92e6de18352d94b2f2c80f25"></a><a id="t.0"></a><table class="c19"><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c14 c22 c9">Setting</span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c14 c22 c9">Standard value</span></p></td></tr><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">Heat Beat interval </span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">120 MIN </span></p></td></tr><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">Ble scanner </span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">OFF</span></p></td></tr><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">confirmed Heartbeat</span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">ON</span></p></td></tr><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">BLE Prefix 1</span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">NOT SET</span></p></td></tr><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">BLE Prefix 2</span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">NOT SET</span></p></td></tr><tr class="c16"><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">BLE Prefix 3</span></p></td><td class="c18" colspan="1" rowspan="1"><p class="c4"><span class="c5">NOT SET</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">&nbsp;</span></p><h3 class="c15" id="h.gnkst81vyskx"><span class="c12">Decoded Payload</span></h3><p class="c3"><span class="c5">Oscall leverer data over fport 1 og 2. </span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Data leveret over fport 1 er heartbeats. </span></p><p class="c3"><span>Et heartbeat har to datatyper &ldquo;</span><span class="c20">reason</span><span>&rdquo; og &ldquo;</span><span class="c20">voltage</span><span>&rdquo;. &nbsp;&ldquo;</span><span class="c20">reason</span><span>&rdquo; refererer til hvorfor trykket sender og vil altid v&aelig;re &nbsp;&ldquo;</span><span class="c20">reason = 0</span><span class="c5">&rdquo; hvis der er tale om et heartbeat. </span></p><p class="c3"><span>&ldquo;</span><span class="c20">Voltage</span><span class="c5">&rdquo; er en m&aring;ling af str&oslash;mniveauet p&aring; trykkets batteri i volt. </span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c14 c22 c9">Eksempel p&aring; fport 1 payload: </span></p><a id="t.a9c2c6b8bae6aac66959579e666f15e2e5542823"></a><a id="t.1"></a><table class="c19"><tr class="c16"><td class="c34" colspan="1" rowspan="1"><p class="c11"><span class="c0">&nbsp; &nbsp;</span><span class="c2">&quot;uplink_message&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;session_key_id&quot;</span><span class="c0">: </span><span class="c2">&quot;AYsQ4d1KVXOoFH3E4cA3Xg==&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;f_port&quot;</span><span class="c0">: </span><span class="c23 c17">1</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;f_cnt&quot;</span><span class="c0">: </span><span class="c23 c17">1</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;frm_payload&quot;</span><span class="c0">: </span><span class="c2">&quot;AB0=&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;decoded_payload&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;reason&quot;</span><span class="c0">: </span><span class="c23 c17">0</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;voltage&quot;</span><span class="c0">: </span><span class="c23 c17">2.9</span><span class="c0"><br> &nbsp; &nbsp; &nbsp;},</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span>Data leveret over fport 2 er et tryk p&aring; knappen. Et tryk p&aring; knappen sender 4 variabler med: &quot;voltage&quot;, &quot;</span><span class="c20">reason</span><span>&quot;, &quot;</span><span class="c20">mac</span><span>&quot; og &ldquo;</span><span class="c20">rssi</span><span>&rdquo;. &quot;</span><span class="c20">Reason</span><span>&quot; er lige med &ldquo;1&rdquo; i forbindelse med et tryk p&aring; knappen. &ldquo;</span><span class="c20">mac</span><span>&rdquo; og &ldquo;</span><span class="c20">rssi</span><span>&rdquo; er et resultat af trykkets ble scan. De to variabler h&aelig;nger sammen p&aring; den m&aring;de at det f&oslash;rste index i &ldquo;</span><span class="c20">mac</span><span>&rdquo; har rssi v&aelig;rdien der er opgivet i f&oslash;rste index i &ldquo;</span><span class="c20">rssi</span><span>&rdquo; og anden index i &ldquo;</span><span class="c20">mac</span><span>&rdquo; har rssi v&aelig;rdien der er angivet i det andet index i &ldquo;</span><span class="c20">rssi</span><span>&rdquo; osv. &ldquo;</span><span class="c20">voltage</span><span class="c5">&rdquo; bliver sendt i volt. (Der arbejdes p&aring; en volt til % converter som kommer i en fremtidig decoder)</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c9">Eksempel p&aring; fport 2 payload:</span><span class="c5">&nbsp;</span></p><a id="t.b0f7a2449df436389f5cc899aba51398aa0b0f77"></a><a id="t.2"></a><table class="c19"><tr class="c16"><td class="c34" colspan="1" rowspan="1"><p class="c11"><span class="c0">&nbsp; &nbsp; </span><span class="c2">&quot;uplink_message&quot;</span><span class="c0">: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;session_key_id&quot;</span><span class="c0">: </span><span class="c2">&quot;AYsQ4d1KVXOoFH3E4cA3Xg==&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;f_port&quot;</span><span class="c0">: </span><span class="c23 c17">2</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;f_cnt&quot;</span><span class="c0">: </span><span class="c23 c17">2</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;frm_payload&quot;</span><span class="c0">: </span><span class="c2">&quot;Af8AAWcAN2E4MzBlZmViMGVhfC01MnxhYzIzM2ZmNmNkOGR8LTc3fDU3NjJlYmRhOGY2YXwtODR8ODQyYWZkZTdhNDExfC02NnxhYzIzM2ZmYWRjMjZ8LTY3fGFjMjMzZmZhZGMyN3wtNzB8pQ==&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;decoded_payload&quot;</span><span class="c14 c0">: {</span></p><p class="c11"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">&quot;voltage&quot;</span><span class="c0">: </span><span class="c23 c17">3.2</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;mac&quot;</span><span class="c0">: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;7a830efeb0ea&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;ac233ff6cd8d&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;5762ebda8f6a&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;842afde7a411&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;ac233ffadc26&quot;</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;ac233ffadc27&quot;</span><span class="c0"><br> &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;reason&quot;</span><span class="c0">: </span><span class="c23 c17">1</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">&quot;rssi&quot;</span><span class="c0">: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c23 c17">-52</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c23 c17">-77</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c23 c17">-84</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c23 c17">-66</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c23 c17">-67</span><span class="c0">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c23 c17">-70</span><span class="c0"><br> &nbsp; &nbsp; &nbsp; &nbsp;]<br> &nbsp; &nbsp; &nbsp;}</span></p></td></tr></table><h2 class="c36" id="h.hjwi03wlwepo"><span class="c10">Informationer til at lave en decoder</span></h2><h3 class="c15" id="h.q0ya9y9gf6qp"><span class="c12">Fport 1:</span></h3><p class="c3"><span class="c5">For heatbeats sendes (som altid sendes med fport 1) der kun en byte. Byte er batteriniveauet ganget med 10. S&aring; for at f&aring; det i volt, skal man dividere tallet med 10. Dvs for &ldquo;1b&rdquo; som er 29 er batteriet p&aring; 2.9 volt.</span></p><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.n8iajvfer043"><span class="c12">Fport 2:</span></h3><p class="c3"><span class="c5">For et knap tryk (som altid sendes med fport 2) sendes der en lang byte string. Den f&oslash;rste byte er batteriniveauet ganget med 10. S&aring; for at f&aring; det i volt, skal man dividere tallet med 10. Dvs for &ldquo;1b&rdquo; som er 29 er batteriet p&aring; 2.9 volt.</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Resten er en lang byte string som skal decodes samlet. Et eksempel er:</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">&ldquo;6163323333666661646332367C2D36337C3834326166646537613431317C2D37357C6163323333666661646332377C2D36387C6163323333666636636438647C2D35377C&rdquo;</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Som decoded er:</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">&ldquo;ac233ffadc26|-63|842afde7a411|-75|ac233ffadc27|-68|ac233ff6cd8d|-57|&rdquo;</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Her er mac adresserne og rssi v&aelig;rdierne adskilt med et &ldquo;|&rdquo; og den f&oslash;rste mac adresse og den f&oslash;rste rssi v&aelig;rdi h&aelig;nger sammen osv. </span></p><p class="c3 c8"><span class="c5"></span></p><h2 class="c36" id="h.gt36ankma1mc"><span class="c10">Downlink ota konfiguration med encoder</span></h2><p class="c3"><span class="c5">Vis den medf&oslash;lgende encoder til OsCall bliver brugt, er det muligt at konfigurere OsCall med en json fil. Det g&oslash;res med f&oslash;lgende variabler:</span></p><p class="c3 c8"><span class="c5"></span></p><a id="t.26f2bd2daf260955e5455ee79d5d82831eb985ad"></a><a id="t.3"></a><table class="c19"><tr class="c16"><td class="c34" colspan="1" rowspan="1"><p class="c11"><span class="c0">heatbeat_interval = [</span><span class="c23 c17">30</span><span class="c0">,</span><span class="c23 c17">60</span><span class="c0">,</span><span class="c23 c17">120</span><span class="c0">,</span><span class="c23 c17">240</span><span class="c0">,</span><span class="c23 c17">360</span><span class="c0">,</span><span class="c23 c17">480</span><span class="c0">,</span><span class="c23 c17">600</span><span class="c0">,</span><span class="c23 c17">720</span><span class="c0">]; // Is in minutes<br>confirmed_heatbeat = [</span><span class="c35 c17">true</span><span class="c0">, </span><span class="c17 c35">false</span><span class="c0">]; //sets confirmed heartbeat<br>ble_scanner = [</span><span class="c2">&quot;on&quot;</span><span class="c0">, </span><span class="c2">&quot;off&quot;</span><span class="c0">]; //turns on or off the ble scan on button push<br>ble_prefix_1 = [</span><span class="c2">&quot;ac233f&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0001&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0002&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0003&quot;</span><span class="c0">]; //Sets if only specific ble vendor shut be reported by the ble scanner<br>ble_prefix_2 = [</span><span class="c2">&quot;ac233f&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0001&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0002&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0003&quot;</span><span class="c0">]; //Sets if only specific ble vendor shut be reported by the ble scanner<br>ble_prefix_3 = [</span><span class="c2">&quot;ac233f&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0001&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0002&quot;</span><span class="c0">,</span><span class="c2">&quot;oc0003&quot;</span><span class="c0 c14">]; //Sets if only specific ble vendor shut be reported by the ble scanner</span></p><p class="c11"><span class="c14 c0">factory_reset = [&quot;yes&quot;]; //Returns to standard settings</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Et eksempel p&aring; en json konfiguration kunne v&aelig;re:</span></p><p class="c3 c8"><span class="c5"></span></p><a id="t.724332ea6ddc3f4f4953ce89ee61227fc7146557"></a><a id="t.4"></a><table class="c19"><tr class="c16"><td class="c34" colspan="1" rowspan="1"><p class="c11"><span class="c0">{<br> &nbsp;&quot;heatbeat_interval&quot;: </span><span class="c23 c17">240</span><span class="c0">,<br> &nbsp;&quot;confirmed_heatbeat&quot;: </span><span class="c35 c17">true</span><span class="c0">,<br> &nbsp;&quot;ble_scanner&quot;: </span><span class="c2">&quot;on&quot;</span><span class="c0">,<br> &nbsp;&quot;ble_prefix_1&quot;: </span><span class="c2">&quot;&quot;</span><span class="c0">,<br> &nbsp;&quot;ble_prefix_2&quot;: </span><span class="c2">&quot;&quot;</span><span class="c0">,<br> &nbsp;&quot;ble_prefix_3&quot;: </span><span class="c2">&quot;&quot;</span><span class="c0"><br>}</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Eller for at factory reset OScall&rsquo;et kan json konfiguration kunne v&aelig;re:</span></p><p class="c3 c8"><span class="c5"></span></p><a id="t.b03a910b86f402df964d29558c2b51b2c04b488c"></a><a id="t.5"></a><table class="c19"><tr class="c16"><td class="c34" colspan="1" rowspan="1"><p class="c11"><span class="c0">{<br> &nbsp; &quot;factory_reset&quot;: </span><span class="c2">&quot;yes&quot;</span><span class="c0"><br>}</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c5">Her s&aelig;ttes heartbeat intervallet til 240 minutter, at Oscall skal sende confirmed heartbeats, ble scanneren er t&aelig;ndt under knap tryk og der er ikke sat nogle ble prefixes s&aring; alle enheder bliver sendt med efter et tryk.</span></p><p class="c3 c8"><span class="c5"></span></p><h2 class="c36" id="h.t6rtdpiuozt6"><span class="c10">Manuelt kreation af byte string til downlink ota konfiguration</span></h2><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.oupm2eg11w6b"><span class="c12">Indstilling af &nbsp;heart beats rate: </span></h3><p class="c6"><span class="c14 c23 c17"></span></p><a id="t.eeafa4d3a8b1d9664c4f7b29e14a8629f34e6796"></a><a id="t.6"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Heartbeat interval (min)</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">30</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">00 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">60</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">01 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">120</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">02 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">240</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">03 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">360</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">04 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">480</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">05 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">600</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">06 ff ff ff ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">720</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">07 ff ff ff ff ff ff</span></p></td></tr></table><p class="c6"><span class="c14 c23 c17"></span></p><h3 class="c15" id="h.pxpl392ewe7p"><span class="c12">Indstilling af confirmed Hard beat:</span></h3><p class="c6"><span class="c14 c17 c23"></span></p><a id="t.08c637a247d5d63d2ab01c97518ddb82228a5ff5"></a><a id="t.7"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c3"><span class="c32 c9">Confirmed Hard beat</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c37"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">False</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff 00 ff ff ff ff ff</span></p></td></tr><tr class="c33"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">True</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff 01 ff ff ff ff ff</span></p></td></tr></table><p class="c6"><span class="c31 c9"></span></p><h3 class="c15" id="h.ia6zx3d0akbt"><span class="c12">Indstilling af ble scanneren:</span></h3><p class="c6"><span class="c14 c23 c17"></span></p><a id="t.78098e972e325d4d82d92880ba04ce59fb33b336"></a><a id="t.8"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c3"><span class="c9 c32">ble scanneren</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c38"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">on</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff 00 ff ff ff ff</span></p></td></tr><tr class="c33"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">off</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff 01 ff ff ff ff</span></p></td></tr></table><p class="c3 c8"><span class="c31 c9"></span></p><p class="c3 c8"><span class="c31 c9"></span></p><h3 class="c15" id="h.ed515gcwssv4"><span class="c12">Indstilling af &nbsp;ble prefix 1: </span></h3><p class="c3"><span class="c25">For at indstille ble prefix 1 skal der i 4&rsquo;er byte sendes indexet af den &oslash;nskede ble producenters mac adresse. S&aring; for for &ldquo;Minew&rdquo; ble beacons skal der sendes 00 i 4 byte.</span></p><p class="c3 c8"><span class="c25"></span></p><p class="c3"><span class="c32">Liste over godkendte ble producenters mac adresse: </span><span class="c31 c9">[&quot;ac233f&quot;,&quot;oc0001&quot;,&quot;oc0002&quot;,&quot;oc0003&quot;]</span></p><p class="c6"><span class="c14 c23 c17"></span></p><a id="t.68aaf563478f29dab08edf0d3d2c133af07a3fb4"></a><a id="t.9"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">ble prefix 1</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;ac233f&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff 00 ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;oc0001&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff 01 ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;oc0002&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff 02 ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">...</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff xx ff ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c17 c9">ble prefix 1 off</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff ff ff</span></p></td></tr></table><p class="c6"><span class="c9 c31"></span></p><h3 class="c15" id="h.kzvos69jllmu"><span class="c12">Indstilling af &nbsp;ble prefix 2: </span></h3><p class="c3"><span class="c25">For at indstille ble prefix 2 skal der i 5&rsquo;er byte sendes indexet af den &oslash;nskede ble producenters mac adresse. Index starter i 0. S&aring; for for &ldquo;Minew&rdquo; ble beacons skal der sendes 00 i 5 byte.</span></p><p class="c3 c8"><span class="c25"></span></p><p class="c3"><span class="c32">Liste over godkendte ble producenters mac adresse: </span><span class="c31 c9">[&quot;ac233f&quot;,&quot;oc0001&quot;,&quot;oc0002&quot;,&quot;oc0003&quot;]</span></p><p class="c3"><span class="c32 c9">&nbsp;</span></p><a id="t.9ab4797553576218d10ade3b8d3b158ecd0fe278"></a><a id="t.10"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">ble prefix 2</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;ac233f&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff 00 ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;oc0001&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff 01 ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;oc0002&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff 02 ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">...</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff xx ff ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c17 c9">ble prefix 1 off</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff ff ff</span></p></td></tr></table><p class="c6"><span class="c31 c9"></span></p><h3 class="c15" id="h.wdk2tha2ujj5"><span class="c12">Indstilling af &nbsp;ble prefix 3: </span></h3><p class="c3"><span class="c25">For at indstille ble prefix 3 skal der i 6&rsquo;er byte sendes indexet af den &oslash;nskede ble producenters mac adresse. Index starter i 0. S&aring; for &ldquo;Minew&rdquo; ble beacons skal der sendes 00 i 6 byte.</span></p><p class="c3 c8"><span class="c25"></span></p><p class="c3"><span class="c32">Liste over godkendte ble producenters mac adresse: </span><span class="c31 c9">[&quot;ac233f&quot;,&quot;oc0001&quot;,&quot;oc0002&quot;,&quot;oc0003&quot;]</span></p><p class="c3 c8"><span class="c31 c9"></span></p><a id="t.19797be5c31ad5aedf82fa3d9498ad17eff5beef"></a><a id="t.11"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">ble prefix 3</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;ac233f&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff 00 ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;oc0001&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff 01 ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;oc0002&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff 02 ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">...</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff xx ff</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c9 c17">ble prefix 1 off</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff ff ff</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.af9xo3fm5n7y"><span class="c12">Factory resetting OTA:</span></h3><p class="c3"><span class="c25">For at factory resette OScall OTA kan man sende &ldquo;00&rdquo; til bit 7. Dette vil f&aring; OScall&rsquo;et til at g&aring; tilbage til standard indstillinger som beskrevet i &quot;Standardindstillinger&quot;.</span></p><p class="c3 c8"><span class="c25"></span></p><p class="c3 c8"><span class="c25"></span></p><a id="t.8468845d3abf7144eb569bb535e4d74cc8fe5b10"></a><a id="t.12"></a><table class="c19"><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">fport</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c9 c13">ble prefix 3</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c13 c9">Sent byte</span></p></td></tr><tr class="c16"><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">10</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">&quot;Yes&quot;</span></p></td><td class="c7" colspan="1" rowspan="1"><p class="c4"><span class="c1">ff ff ff ff ff 00 ff</span></p></td></tr></table><p class="c6"><span class="c5"></span></p><h3 class="c15" id="h.373snd7nhlpr"><span class="c12">Dekoder/encoder:</span></h3><p class="c3"><span>I mappen &ldquo;</span><span class="c20">De/encodere&rdquo;</span><span class="c5">&nbsp;kan dekoderen findes til forskellige netv&aelig;rk som TTN (The Things Network). Det er en javascript dekodere som kan lave den r&aring; byte string om til det format som er beskrevet ovenfor. </span></p><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.e5clyyi39vfl"><span class="c12">Reset/rejoin OsCall</span></h3><p class="c3"><span>Oscall kan resettes ved at </span><span class="c9">holde knappen ned i 25 sek </span><span>og 4 blink skulle kunne ses</span><span class="c9">.</span><span class="c5">&nbsp;Herefter vil OsCall re-join netv&aelig;rket. Brug denne funktion hvis man &oslash;nsker at skifte netv&aelig;rk / joine en anden Lorawan server, eller vil resette konfigurationen p&aring; &nbsp;trykket.</span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span class="c9">Holdes knappen inden i 30 sekunder, vil OScall resette til factory settings</span><span class="c5">. N&aring;r det sker, vil OScall blinke med 4 lange blink. </span></p><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.bn7e8bh13ea4"><span class="c12">Batteriskift: </span></h3><p class="c3"><span class="c5">Knap kassen er forseglet og vandt&aelig;t IP65 og der kan derfor ikke skiftes batteri uden specialv&aelig;rkt&oslash;j. Derfor kommer OsCall med en refurbished aftale. </span></p><p class="c3 c8"><span class="c5"></span></p><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.r1rxoltbdglw"><span class="c12">Debugging</span></h3><p class="c3 c8"><span class="c5"></span></p><a id="t.3dccc808a5cb29a8fd379b2afb111146d331fa96"></a><a id="t.13"></a><table class="c19"><tr class="c16"><td class="c29" colspan="1" rowspan="1"><p class="c4"><span class="c14 c22 c9">Blink type</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c4"><span class="c14 c9 c22">Betydning</span></p></td></tr><tr class="c16"><td class="c29" colspan="1" rowspan="1"><p class="c4"><span class="c5">Langt blink</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c4"><span class="c5">Normalt tryk p&aring; knappen n&aring;r Oscall er p&aring; et lorawan netv&aelig;rk.</span></p></td></tr><tr class="c16"><td class="c29" colspan="1" rowspan="1"><p class="c4"><span class="c5">2 Blink</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c4"><span class="c5">OsCallet er ikke joinet et netv&aelig;rk og pr&oslash;ver hver 12 time eller efter en genstart. </span></p></td></tr><tr class="c16"><td class="c29" colspan="1" rowspan="1"><p class="c4"><span class="c5">4 blink </span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c4"><span class="c5">Oscallet genstarter</span></p></td></tr><tr class="c16"><td class="c29" colspan="1" rowspan="1"><p class="c4"><span>4 </span><span class="c9">LANGE</span><span class="c5">&nbsp;blink</span></p></td><td class="c26" colspan="1" rowspan="1"><p class="c4"><span class="c5">Oscallet factory resettes</span></p></td></tr></table><p class="c3 c8"><span class="c5"></span></p><p class="c3 c8"><span class="c5"></span></p><h3 class="c15" id="h.qyvml0tknxbn"><span class="c12">Kontakt</span></h3><p class="c3 c8"><span class="c5"></span></p><p class="c3"><span>For yderligere sp&oslash;rgsm&aring;l kan man kontakte </span><span class="c21"><a class="c28" href="mailto:oi@emiot.dk">oi@emiot.dk</a></span><span>&nbsp;eller ringe +45 25798300</span></p></body>
